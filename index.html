<html>
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">

        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="styles.css">

        <script src="http://openlayers.org/api/OpenLayers.js"></script> 
        <script type="text/javascript">
            var mapa, layer;

            function init() {
                mapa = new OpenLayers.Map('mapa');
                mapa.addLayer(new OpenLayers.Layer.OSM());

                var center = new OpenLayers.LonLat(-8.443692, 40.574310);
                center.transform(new OpenLayers.Projection("EPSG:4326"), mapa.getProjectionObject());
                mapa.setCenter(center, 17);


                mapa.addControl(new OpenLayers.Control.Permalink());
                mapa.addControl(new OpenLayers.Control.LayerSwitcher());
                mapa.addControl(new OpenLayers.Control.MousePosition({
                    prefix: 'Coordenadas WGS84: ',
                    separator: ' | ',
                    numDigits: 5,
                    displayProjection: new OpenLayers.Projection("EPSG:4326"),
                    emptyString: ''
                }));

                var geolocate = new OpenLayers.Control.Geolocate({
                    bind: false,
                    geolocationOptions: {
                        enableHighAccuracy: false,
                        maximumAge: 0,
                        timeout: 7000
                    }
                });
                mapa.addControl(geolocate);
                geolocate.events.register("locationupdated",geolocate,function(e) {
                    var center = new OpenLayers.LonLat(e.point.x, e.point.y);
                    //center.transform(new OpenLayers.Projection("EPSG:4326"), mapa.getProjectionObject());
                    mapa.setCenter(center, 17);
                    geolocate.deactivate();
                });
                geolocate.activate();
            }
        </script>

        <style>
            html,body{
                padding: 0;
                margin: 0;
            }
        </style>

    </head>
    <body onload="init()">
        <div id="mapa"></div>

        <div id="nav">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">News</a></li>
                <li><a href="#">Contact</a></li>
                <li><a href="#">About</a></li>
            </ul>
        </div>
        
        <div id="bottom_bar"></div>
    </body>
</html>